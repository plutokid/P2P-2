#include "../hasher.h"#include "../md5.h"/*  To obtain MD5 of a file by input memory address  of a file,return 16 char array. Each char stores an integer  ranges from 0-255 and can be mapped into hex-representation   of stored value, such as 0xa1*/voidgetFileMD5(FILE *fp, char *dep){	long fileSize = 0;    fseek(fp,0L,SEEK_END);	fileSize = ftell(fp);    printf("File size is: %lu \n",fileSize);    //move file point to the begin position of a file	fseek(fp,0L,SEEK_SET);    //allocate buff to store file bytes information    char *encrypt = malloc(sizeof(char)*fileSize);	//record read file state	int rc = -1;	//buffer, read length, read times, file pointer    rc = fread(encrypt,fileSize,1,fp);	    if(rc < 0){	    printf("Read file error.");	}else{	    unsigned char decrypt[16];	    MD5_CTX md5;//MD5 structure		MD5Init(&md5);//initialize md5		MD5Update(&md5,encrypt,strlen(encrypt));		MD5Final(&md5,decrypt);		int i;		for(i = 0; i < 16;i++){            printf("%02x",decrypt[i]);			*(dep+i) = decrypt[i];		}			}	free(encrypt);}